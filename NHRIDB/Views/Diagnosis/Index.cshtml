@model NHRIDB.Models.ViewModels.DiagnosisModel
@{
    ViewBag.Title = "診斷編號清單";
 
     string[][] Columns = {
        new string[] { "編號", "diagnosisKey" },
        new string[] { "英文名稱", "name_en" },
              new string[] { "中文名稱", "name_tw" }
         };
}

@using (Html.BeginForm("Index", "Diagnosis", FormMethod.Post))
{
    @Html.AntiForgeryToken()
<div class="formPanel">
    <label>編號</label>
    @Html.TextBoxFor(e => e.dKey)
    <label>英文名稱</label>
    @Html.TextBoxFor(e => e.name_en)
    <label>中文名稱</label>
    @Html.TextBoxFor(e => e.name_tw)
    <span></span>
    <button class="btn" type="submit">查詢</button>
</div>
}
<br />
<div class="panel panel-default">
    <div class="panel-heading">
        @Form.AddUrl(ViewBag.CanEdit, Url.Action("Create"))
    </div>
    <div class="panel-body">
        <table class="table table-hover">
            <thead>
                <tr>
                    @Form.OrderByColumns(Columns, this)
                    <th></th>
                </tr>
            </thead>
            @{
                foreach (var item in Model.items)
                {
                    <tr>
                        <td>
                            @item.diagnosisKey
                        </td>
                        <td>
                            @item.dname_en
                        </td>
                        <td>
                            @item.dname_tw
                        </td>
                        <td>
                            @if (ViewBag.CanEdit)
                            {
                                <i class="btnDel fa fa-trash-o" data-dkey="@item.diagnosisKey">
                                </i>
                                @Form.EditUrl(true, Url.Action("Edit", "Diagnosis", new { dkey = item.diagnosisKey }))
                            }

                        </td>
                    </tr>
                }
            }
        </table>
    </div>
</div>

@Form.DeleteDialog(ViewBag.CanEdit, "btnDel", Url.Action("Delete"))

@Form.pageDiv(Url.Action("Index"), Model.pageNumber, Model.pageEnd)
